# Тестовое задание для компании EasyBot

## Описание
Приложение, выполненное по следующему заданию:

https://www.dropbox.com/s/zpvfea8nz3wqtit/java_test.pdf?dl=0

В приложении реализован RESTful API со следующими конечными точками:

**/goods [GET]** - вывод списка всех товаров (тестовый метод, не предусмотренный в изначальном задании).

**/goods [POST]** - добавление товара.

**/goods [PUT]** - редактирование существующего товара.

**/goods/category/{category_id} [GET]** - просмотр всех существующих товаров по типу.

**/goods/{id} [GET]** - просмотр товара по идентификатору.

## Работа с приложением
Для запуска приложения необходимо загрузить его проект код в IDE и запустить на выполнение (Shift+F10 для Intellij IDEA). Работу приложения можно наблюдать в любой программе для отправки HTTP-запросов (например, [Postman](https://www.postman.com/downloads/)). Часть функций требует отправки в теле запроса специально сформированных данных в формате JSON. Рассмотрим все функции приложения подробно:

### Вывод списка всех товаров
Осуществляется GET-запросом по адресу http://localhost:8080/goods, дополнительные параметры не требуются. Результат выводится в формате JSON, ниже приведен образец:

```
{
        "id": 1,
        "serialNumber": "ABC123",
        "manufacturer": "Sony",
        "category": "Настольные компьютеры",
        "price": 499.99,
        "quantity": 10,
        "propertyValueDTOs": [
            {
                "property": "Форм-фактор",
                "value": "Десктоп"
            }
        ]
}
```

Здесь и далее:
- id - уникальный идентификатор товара в БД.
- serialNumber - номер серии.
- manufacturer - производитель.
- category - категория.
- price - цена.
- quantity - остаток на складе.
- propertyValueDTOs - список свойств товара, где
   - property - название свойства.
   - value - значение свойства.

## Добавление товара
Осуществляется POST-запросом по адресу http://localhost:8080/goods, данные о товаре передаются в JSON в теле запроса (при работе с Postman нужно открыть вкладку Body под адресной строкой запроса, а на ней выбрать вид raw). Образец данных приведен ниже.

```
{
    "serialNumber": "321321",
    "manufacturerId": "1",
    "categoryId": "1",
    "price": 499.99,
    "quantity": 12,
    "propertyValueDTOs": [
        {
            "propertyId": "1",
            "value": "38 попугаев"
        }
    ]
}
```
propertyId здесь и далее - уникальный идентификатор свойства в БД.

![image](https://github.com/HeWhoTalksLoud/easybot_test/assets/119597731/39464fec-d062-47fc-9c23-e7c9892f2b88)

Данные о добавленном товаре передаются в теле HTTP-ответа в JSON-формате, аналогичном данным для сохранения. Пример:

```
{
    "id": 8,
    "serialNumber": "321321",
    "manufacturer": "Sony",
    "category": "Настольные компьютеры",
    "price": 499.99,
    "quantity": 12,
    "propertyValueDTOs": [
        {
            "property": "Форм-фактор",
            "value": "38 попугаев"
        }
    ]
}
```


## Редактирование товара
Аналогично добавлению товара из пункта выше, но осуществляется PUT-запросом по адресу http://localhost:8080/goods и в JSON в теле запроса также передается уникальный идентификатор редактируемого товара - id (для добавления нового товара указывать идентификатор не нужно, он добавляется СУБД автоматически). Пример:

```
{
    "id": "1",
    "serialNumber": "321321",
    "manufacturerId": "1",
    "categoryId": "1",
    "price": 499.99,
    "quantity": 12,
    "propertyValueDTOs": [
        {
            "propertyId": "1",
            "value": "значение"
        }
    ]
}
```

Данные об измененном  товаре передаются в теле HTTP-ответа аналогично предыдущему пункту.


## Просмотр всех существующих товаров по типу
Осуществляется GET-запросом вида http://localhost:8080/goods/category/{category_id}, где {category_id} - уникальный идентификатор типа товаров в БД, например, http://localhost:8080/goods/category/1. Полученные данные выводятся в теле HTTP-ответа в JSON-формате.

## Просмотр товара по идентификатору
Аналогично предыдущему пункту, но отправляется GET-запрос вида http://localhost:8080/goods/{id}, где {id} - уникальный идентификатор товара в БД, например, http://localhost:8080/goods/1.

    
